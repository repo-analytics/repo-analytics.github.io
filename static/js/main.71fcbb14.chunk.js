(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{18:function(e,t,a){},41:function(e,t,a){e.exports=a(91)},46:function(e,t,a){},47:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},9:function(e,t){e.exports={set:function(e){var t=e.username,a=e.token,n=e.photo;window.localStorage.setItem("user",JSON.stringify({username:t,token:a,photo:n}))},get:function(){var e={},t=window.localStorage.getItem("user");if(t)try{e=JSON.parse(t)}catch(a){}return e},remove:function(){window.localStorage.removeItem("user")}}},91:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(34),l=a.n(o),s=(a(46),a(13)),i=a(10),m=(a(47),a(2)),u=a(6),h=a.n(u),p=a(11),d=a(35),E=a.n(d),f=window.localStorage.getItem("user");f&&(n=JSON.parse(f).token);var v=E.a.create({baseURL:"https://repo-analytics.t9t.io/",timeout:2e4,headers:{token:n}}),b={getUserRepos:function(){var e=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/user/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.repos);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRepoTraffic:function(){var e=Object(p.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.repoPath,e.next=3,v.get("/repo/".concat(a));case 3:return n=e.sent,e.abrupt("return",n.data.traffic);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRepoStars:function(){var e=Object(p.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.repoPath,e.next=3,v.get("/repo/".concat(a,"/stars"));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRepo:function(){var e=Object(p.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repoPath,r=t.token,e.next=3,v.post("/repo/add",{username:a,repoPath:n,token:r});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=a(3),N=a.n(g),y=(a(74),function(e){var t=e.repo,a=e.createdAt,n=(e.username,e.views),o=Object(r.useRef)(),l=n.map((function(e){return{x:e.timestamp,y:e.count}})),s=n.map((function(e){return{x:e.timestamp,y:e.uniques}}));return Object(r.useEffect)((function(){o.current&&new N.a.XY(o.current,{data:{datasets:[{label:"Views",data:l},{label:"Unique Visitors",data:s}]},options:{xTickCount:3,yTickCount:4,legendPosition:N.a.config.positionType.upLeft,showLine:!0,timeFormat:"MM/DD/YYYY",dotSize:.5,dataColors:["#28a745","#005cc5"]}})}),[]),c.a.createElement("div",{className:"card-container"},c.a.createElement("div",{className:"card-description"},c.a.createElement("a",{href:"/".concat(t)},t)),c.a.createElement("div",{className:"project-trend"},c.a.createElement("svg",{ref:o})),c.a.createElement("div",{className:"card-footer"},"Recoding analytics since ",a.slice(0,10)))}),w=(a(75),a(76),function(){return c.a.createElement("footer",null,c.a.createElement("div",{className:"footer-content"},"A ",c.a.createElement("a",{href:"https://t9t.io"},"t9t")," project build by ",c.a.createElement("a",{href:"https://timqian.com"},"timqian")),c.a.createElement("div",{className:"footer-contacts"},c.a.createElement("a",{href:"https://github.com/timqian"},c.a.createElement("i",{class:"ri-github-line"})),c.a.createElement("a",{href:"https://twitter.com/tim_qian"},c.a.createElement("i",{class:"ri-twitter-line"})),c.a.createElement("a",{href:"https://join.slack.com/t/t9tio/shared_invite/enQtNjgzMzkwMDM0NTE3LTE5ZTUzYjU4Y2I0YzRiZjNkYTkzMzE1ZmM0NDdmYzRlZmMxNGY1MzZlN2EwYjYyNWVlMWY0Nzk2MDBhNWZlY2I"},c.a.createElement("i",{class:"ri-slack-line"})),c.a.createElement("a",{href:"https://raw.githubusercontent.com/timqian/images/master/3811553342733_.pic.jpg"},c.a.createElement("i",{class:"ri-wechat-2-line"})),c.a.createElement("a",{href:"mailto:timqian@t9t.io"},c.a.createElement("i",{class:"ri-mail-line"}))))}),x=a(40),j=a(16),O=function(){return c.a.createElement(j.a,{height:220,width:900,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#d6d6d6"},c.a.createElement("rect",{x:"9",y:"19",rx:"0",ry:"0",width:"432",height:"179"}),c.a.createElement("rect",{x:"460",y:"19",rx:"0",ry:"0",width:"426",height:"179"}),c.a.createElement("rect",{x:"494",y:"24",rx:"0",ry:"0",width:"0",height:"13"}),c.a.createElement("rect",{x:"394",y:"85",rx:"0",ry:"0",width:"0",height:"0"}))};var k=function(e){var t=e.user,a=Object(r.useState)([]),n=Object(m.a)(a,2),o=n[0],l=n[1],s=Object(r.useState)(!1),i=Object(m.a)(s,2),u=i[0],h=i[1];return Object(r.useEffect)((function(){h(!0),b.getUserRepos("timqian").then((function(e){l(e),h(!1)}))}),[]),c.a.createElement("div",{className:"home-main"},c.a.createElement("div",{className:"home-hero"},c.a.createElement("div",{className:"home-github-btn"},c.a.createElement(x.a,{href:"https://github.com/repo-analytics/repo-analytics.github.io","data-show-count":"true","aria-label":"Star repo-analytics/repo-analytics.github.io on GitHub"},"Star")),c.a.createElement("h1",{className:"home-slogan"},"Thorough analytics for your GitHub repos"),c.a.createElement("div",{className:"home-features"},c.a.createElement("div",{className:"home-feature"},c.a.createElement("h4",{className:"home-feature-title"},"Better traffic data"),c.a.createElement("p",{className:"home-feature-description"},"Track traffic to GitHub Repos for longer than 14 days.")),c.a.createElement("div",{className:"home-feature"},c.a.createElement("h4",{className:"home-feature-title"},"Understand your users"),c.a.createElement("p",{className:"home-feature-description"},"Analyze history, locations of Star, Watch... data of your GitHub Repos")),c.a.createElement("div",{className:"home-feature"},c.a.createElement("h4",{className:"home-feature-title"},"What do you care?"),c.a.createElement("p",{className:"home-feature-description"},"Suggest new features for Repo Analytics on \xa0",c.a.createElement("a",{href:"https://github.com/repo-analytics/repo-analytics.github.io/issues"},"GitHub")))),c.a.createElement("br",null),c.a.createElement("br",null),t.username?"":c.a.createElement("a",{className:"home-signin-btn",href:"https://repo-analytics.t9t.io/auth/github"},"Sign in with GitHub")),c.a.createElement("div",{className:"home-container"},c.a.createElement("h2",{className:"home-example-title"},"Example repos using ",c.a.createElement("strong",null,"Repo Analytics")),u?c.a.createElement(O,null):"",c.a.createElement("div",{className:"home-examples"},o.map((function(e){return c.a.createElement("div",{className:"home-box"},c.a.createElement(y,{repo:e.repo,username:e.username,createdAt:e.createdAt,views:e.views}))}))),c.a.createElement(w,null)))},S=(a(78),a(9)),Y=a.n(S),T=(a(79),a(36)),P=function(){var e=Y.a.get(),t=Object(r.useState)(),a=Object(m.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(!1),s=Object(m.a)(l,2),i=s[0],u=s[1];function d(){return(d=Object(p.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,b.addRepo({username:e.username,repoPath:n,token:e.token});case 4:window.location="/".concat(n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),u(!1),Object(T.alert)({type:"error",text:'Failed: "'.concat(t.t0.response.data,'"'),stay:!1,time:3,position:"top"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return c.a.createElement("div",{className:"home-box"},c.a.createElement("div",{className:"add-new"},c.a.createElement("input",{placeholder:"e.g. ".concat(e.username,"/repo-name"),className:"repo-input",onChange:function(e){return o(e.target.value)}}),c.a.createElement("button",{className:"".concat(i?"isLoading":""," add-repo-btn"),onClick:function(){return function(){return d.apply(this,arguments)}()}},i?"Adding":"Add repo"),c.a.createElement("div",{className:"add-new-footer"},c.a.createElement("a",{href:"https://github.com/repo-analytics/repo-analytics.github.io/issues/1"},"Pricing"))))};var C=function(e){var t=e.match.params.username,a=Y.a.get(),n=Object(r.useState)([]),o=Object(m.a)(n,2),l=o[0],s=o[1],i=Object(r.useState)(!1),u=Object(m.a)(i,2),h=u[0],p=u[1];return Object(r.useEffect)((function(){p(!0),b.getUserRepos(t).then((function(e){s(e),p(!1)}))}),[]),c.a.createElement("div",{className:"home-container"},c.a.createElement("h1",{className:"user-title"},"Repos of\xa0",c.a.createElement("a",{className:"user-github-link",href:"https://github.com/".concat(t)},t),c.a.createElement("a",{className:"user-github-link",href:"https://github.com/".concat(t)},c.a.createElement("i",{className:"ri-github-line"}))),h?c.a.createElement(O,null):"",c.a.createElement("div",{className:"home-examples"},l.map((function(e){return c.a.createElement("div",{className:"home-box"},c.a.createElement(y,{repo:e.repo,username:e.username,createdAt:e.createdAt,views:e.views}))})),a.username===t?c.a.createElement(P,null):""),c.a.createElement(w,null))},R=(a(18),function(e){var t=e.views,a=t.map((function(e){return{x:e.timestamp,y:e.count}})),n=t.map((function(e){return{x:e.timestamp,y:e.uniques}}));return Object(r.useEffect)((function(){var e=document.querySelector(".visit-chart");new N.a.XY(e,{data:{datasets:[{label:"Views",data:a},{label:"Unique Visitors",data:n}]},options:{xTickCount:3,yTickCount:4,legendPosition:N.a.config.positionType.upLeft,showLine:!0,timeFormat:"MM/DD/YYYY",dotSize:.5,dataColors:["#28a745","#005cc5"]}})}),[]),c.a.createElement("div",{className:"chart-container"},c.a.createElement("h3",{className:"chart-container-header"}," Visitors "),c.a.createElement("div",{className:"svg-container"},c.a.createElement("svg",{className:"visit-chart"})))}),q=function(e){var t=e.clones,a=t.map((function(e){return{x:e.timestamp,y:e.count}})),n=t.map((function(e){return{x:e.timestamp,y:e.uniques}}));return Object(r.useEffect)((function(){var e=document.querySelector(".clone-chart");new N.a.XY(e,{data:{datasets:[{label:"Clones",data:a},{label:"Unique Clones",data:n}]},options:{xTickCount:3,yTickCount:4,legendPosition:N.a.config.positionType.upLeft,showLine:!0,timeFormat:"MM/DD/YYYY",dotSize:.5,dataColors:["#28a745","#005cc5"]}})}),[]),c.a.createElement("div",{className:"chart-container"},c.a.createElement("h3",{className:"chart-container-header"}," Git clones "),c.a.createElement("div",{className:"svg-container"},c.a.createElement("svg",{className:"clone-chart"})))},M=function(){return c.a.createElement(j.a,{height:160,width:400,speed:1,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},c.a.createElement("rect",{x:"0",y:"13",rx:"4",ry:"4",width:"400",height:"9"}),c.a.createElement("rect",{x:"0",y:"29",rx:"4",ry:"4",width:"100",height:"8"}),c.a.createElement("rect",{x:"0",y:"50",rx:"4",ry:"4",width:"400",height:"10"}),c.a.createElement("rect",{x:"0",y:"65",rx:"4",ry:"4",width:"400",height:"10"}),c.a.createElement("rect",{x:"0",y:"79",rx:"4",ry:"4",width:"100",height:"10"}),c.a.createElement("rect",{x:"0",y:"99",rx:"5",ry:"5",width:"400",height:"200"}))},A=function(e){var t=e.referrers;return console.log("referrers",t),c.a.createElement("div",{className:"chart-container"},c.a.createElement("h3",{className:"chart-container-header"}," Referring sites "),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Site"),c.a.createElement("th",null,"Views"),c.a.createElement("th",null,"Unique visitors"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e.referrer),c.a.createElement("td",null,e.count),c.a.createElement("td",null,e.uniques))})))))},z=function(e){var t=e.paths;return c.a.createElement("div",{className:"chart-container"},c.a.createElement("h3",{className:"chart-container-header"}," Popular content "),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Content"),c.a.createElement("th",null,"Views"),c.a.createElement("th",null,"Unique visitors"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("a",{href:"https://github.com/".concat(e.path)},e.path)),c.a.createElement("td",null,e.count),c.a.createElement("td",null,e.uniques))})))))},U=function(e){var t=e.repoPath,a=Object(r.useState)(),n=Object(m.a)(a,2),o=n[0],l=n[1],s=Object(r.useState)(!1),i=Object(m.a)(s,2),u=i[0],h=i[1];return Object(r.useEffect)((function(){h(!0),b.getRepoTraffic({repoPath:t}).then((function(e){l(e),h(!1)})).catch((function(e){return console.log(e)}))}),[]),u||!o?c.a.createElement("div",{className:"repo-container"},c.a.createElement(M,null)):c.a.createElement("div",{className:"repo-container"},c.a.createElement("div",{className:"dates-container"},c.a.createElement("p",null,"Updated at ",o.date),c.a.createElement("p",null,"Recoding analytics since ",o.repoCreatedAt.slice(0,10))),c.a.createElement("div",{className:"repo-ref-paths-container"},c.a.createElement("div",{className:"one-ref-path"},c.a.createElement(R,{views:o.views})),c.a.createElement("div",{className:"one-ref-path"},c.a.createElement(q,{clones:o.clones}))),c.a.createElement("div",{className:"repo-ref-paths-container"},c.a.createElement("div",{className:"one-ref-path"},c.a.createElement(A,{referrers:o.referrers})),c.a.createElement("div",{className:"one-ref-path"},c.a.createElement(z,{paths:o.paths}))))},L=function(e){var t=e.repo,a=e.history,n=(e.notAddingUp,Object(r.useState)(!0)),o=Object(m.a)(n,2),l=o[0],s=o[1],i=Object.keys(a),u=Object.values(a);if(l)for(var h=1;h<u.length;h++)u[h]=u[h-1]+u[h];var p=i.map((function(e,t){return{x:e,y:u[t]}}));return Object(r.useEffect)((function(){var e=document.querySelector(".star-history-chart");new N.a.XY(e,{data:{datasets:[{label:t,data:p}]},options:{xTickCount:3,yTickCount:4,legendPosition:N.a.config.positionType.upLeft,showLine:!0,timeFormat:"YYYY-MM-DD",dotSize:.3,dataColors:["#28a745"]}})})),c.a.createElement("div",{className:"chart-container"},c.a.createElement("h3",{className:"chart-container-header"},"Star History",c.a.createElement("button",{onClick:function(){return s(!l)},style:{float:"right",backgroundColor:"white",borderRadius:"3px",border:"1px solid #ccc",color:"#555",cursor:"pointer"}}," ",l?"Growth":"Total"," ")),c.a.createElement("div",{className:"svg-container"},c.a.createElement("svg",{className:"star-history-chart"})))},D=a(21),G=function(e){var t=e.locations,a=Object.keys(t),n=Object.values(t),o=n.reduce((function(e,t){return e+t})),l=a.sort((function(e,a){return t[a]-t[e]})).slice(0,6),s=n.sort((function(e,t){return t-e})).slice(0,6),i=o-s.reduce((function(e,t){return e+t}));return Object(r.useEffect)((function(){var e=document.querySelector(".star-location-chart");new N.a.Pie(e,{data:{labels:[].concat(Object(D.a)(l),["others"]),datasets:[{data:[].concat(Object(D.a)(s),[i])}]},options:{innerRadius:.5}})}),[]),c.a.createElement("div",{className:"chart-container"},c.a.createElement("h3",{className:"chart-container-header"},"Star Locations"),c.a.createElement("p",{className:"location-description"},o," valid locations detected"),c.a.createElement("div",{className:"svg-container"},c.a.createElement("svg",{className:"star-location-chart"})))},I=function(e){var t=e.repoPath,a=Object(r.useState)(),n=Object(m.a)(a,2),o=n[0],l=n[1],s=Object(r.useState)(!1),i=Object(m.a)(s,2),u=i[0],h=i[1];return Object(r.useEffect)((function(){h(!0),b.getRepoStars({repoPath:t}).then((function(e){l(e),h(!1)})).catch((function(e){return console.log(e)}))}),[]),u||!o?c.a.createElement("div",{className:"repo-container"},c.a.createElement(M,null)):c.a.createElement("div",{className:"repo-container"},c.a.createElement("div",{className:"dates-container"},c.a.createElement("p",null,"Updated at ",o.updatedAt.slice(0,10))),c.a.createElement("div",{className:"repo-ref-paths-container"},c.a.createElement("div",{className:"one-ref-path"},c.a.createElement(L,{repo:o.repo,history:o.history})),c.a.createElement("div",{className:"one-ref-path"},c.a.createElement(G,{locations:o.locations}))))},H=(a(80),function(){return c.a.createElement("div",{className:"repo-container"},c.a.createElement("div",{className:"traffic-switch"},c.a.createElement("label",{className:"switch"},c.a.createElement("input",{type:"checkbox"}),c.a.createElement("span",{className:"slider round"})),"\xa0 Make traffic data private"))}),V=a(15),W=function(e){var t=e.repoPath,a=e.selectedTab;return c.a.createElement("div",{className:"repo-header"},c.a.createElement("div",{className:"repo-container"},c.a.createElement("h1",{className:"repo-title"},c.a.createElement("a",{className:"user-link",href:"/".concat(t)},t),c.a.createElement("a",{className:"user-github-link",href:"https://github.com/".concat(t)},c.a.createElement("i",{className:"ri-github-line"}))),c.a.createElement("nav",{className:"repo-nav"},c.a.createElement("a",Object(V.a)({href:!0,className:0===a?"selected":""},"href","/".concat(t,"/traffic")),"Traffic"),c.a.createElement("a",Object(V.a)({href:!0,className:1===a?"selected":""},"href","/".concat(t,"/stars")),"Stars"))))};a(81);var Z=function(){var e=Object(i.g)(),t=(Object(i.f)(),e.params.username),a=e.params.repo,n="".concat(t,"/").concat(a);return c.a.createElement("div",null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"".concat(e.path,"/traffic")},c.a.createElement(W,{repoPath:n,selectedTab:0}),c.a.createElement(U,{repoPath:n})),c.a.createElement(i.a,{path:"".concat(e.path,"/stars")},c.a.createElement(W,{repoPath:n,selectedTab:1}),c.a.createElement(I,{repoPath:n})),c.a.createElement(i.a,{path:"".concat(e.path,"/settings")},c.a.createElement(W,{repoPath:n,selectedTab:2}),c.a.createElement(H,null)),c.a.createElement(i.a,{path:"".concat(e.path)},c.a.createElement(W,{repoPath:n,selectedTab:0}),c.a.createElement(U,{repoPath:n}))),c.a.createElement("div",{className:"repo-container"},c.a.createElement(w,null)))},F=a(39),J=a.n(F);function B(){return c.a.createElement("div",null,c.a.createElement("h2",null,"About"))}function X(e){var t=e.match;return c.a.createElement("div",null,c.a.createElement("h2",null,"Topics"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(s.b,{to:"".concat(t.url,"/rendering")},"Rendering with React")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"".concat(t.url,"/components")},"Components")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"".concat(t.url,"/props-v-state")},"Props v. State"))),c.a.createElement(i.a,{path:"".concat(t.path,"/:topicId"),component:_}),c.a.createElement(i.a,{exact:!0,path:t.path,render:function(){return c.a.createElement("h3",null,"Please select a topic.")}}))}function _(e){var t=e.match;return c.a.createElement("div",null,c.a.createElement("h3",null,t.params.topicId))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(90);l.a.render(c.a.createElement((function(){var e=Y.a.get();if(window.location.search.length>0)try{var t=J.a.parse(window.location.search);Y.a.set({username:t.username,token:t.token,photo:t.photo}),e=Y.a.get(),window.history.replaceState({},document.title,window.location.origin+window.location.pathname)}catch(a){console.log("bad query string")}return c.a.createElement(s.a,null,c.a.createElement("header",null,c.a.createElement("div",{className:"header-left"},c.a.createElement("img",{src:"/logo.png",alt:"logo",width:"30px"}),"\xa0",c.a.createElement(s.b,{to:"/",className:"header-link"},"Repo Analytics")),c.a.createElement("div",null,e.username?c.a.createElement("div",{className:"dropdown"},c.a.createElement("a",{className:"header-link",href:!0},e.username," ",c.a.createElement("span",{style:{fontSize:"10px"}},"\u25bc")),c.a.createElement("div",{className:"dropdown-content"},c.a.createElement("a",{href:"/".concat(e.username)},"Your profile"),c.a.createElement("a",{href:"/".concat(e.username)},"Add repo"),c.a.createElement("a",{href:"https://github.com/repo-analytics/repo-analytics.github.io/issues/1"},"Pricing"),c.a.createElement("hr",null),c.a.createElement("a",{href:!0,onClick:function(){Y.a.remove(),window.location.reload()}},"Sign out"))):c.a.createElement("a",{className:"header-link",href:"https://repo-analytics.t9t.io/auth/github"},"Sign in with GitHub"))),c.a.createElement(i.a,{exact:!0,path:"/"},c.a.createElement(k,{user:e})),c.a.createElement(i.a,{path:"/topics",component:X}),c.a.createElement(i.a,{path:"/about",component:B}),c.a.createElement(i.a,{exact:!0,path:"/:username",component:C}),c.a.createElement(i.a,{path:"/:username/:repo",component:Z}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.71fcbb14.chunk.js.map